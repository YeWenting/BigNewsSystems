#“旅行模拟查询系统”设计文档		
*叶文霆 熊柏桥 董升华*
                                   


##任务要求

###问题描述：
建立一张城市图表，城市之间有三种交通工具（汽车、火车和飞机）相连，某旅客于某一时刻向系统提出旅行要求，系统根据该旅客的要求为其设计一条旅行线路并输出；系统能查询当前时刻旅客所处的地点和状态（停留城市/所在交通工具）。


###输入：
第一行一个整数 x，x=0表示是一个设计路线请求，x=1表示是一个查询请求，x=2表示是一个更改旅行计划。

当 x=0 时，第二行输入字符串 s(source), d(destination) 和整数 type，表示要求设计一个从 s 城市到 d 城市，旅行策略为 type 的路线。
第三行输入整数Mid_Num，后面是 Mid_Num 个用空格分开的城市名，表示一定要经过的城市。
第四行接受两个字符串，输入两个字符串name，password，建立对应的旅行账户；

当 x=1 时，按行依次输入 ID 和 password，表示查询对应账号的旅行状态。（允许错误输入三次）

当 x=2 时，按行依次输入 ID 和 password，成功登陆后再输入一个整数 type，表示将当前的旅行计划改为type。

###输出：
当输入中 x=0 时，输出新建立账户的 account ID。（输出五位数字）；
当输入中 x=1 时，输出对应用户在当前时间的所在地（若输入管理员账户，则输出所有用户的状态）；
当输入中 x=2 时，若更改成功则给出对应提示。

###难点：
1. **可维护性数据集**的建立与动态修改
2. 多线程的处理
3. 用户的 ID,所在地,密码的保存
4. 设计路线
  * 必须经过若干点的要求
  * 不同旅行策略的分别实现
5. 实现图形化

##建立模型
###图的建立
考虑到相比于飞机，汽车与火车这类陆地交通方式受限于**地缘因素**，其交通网络的**连通性**没有航班的强。举例来说就是：我们考虑从福州到北京，飞机可以不受空间限制直接抵达北京，而火车很可能需要途径上海市作为中转，然后才能到达北京。出于这方面考虑，陆地交通网的建立会比建立空中交通网更为复杂。为了简化模型，在不失去问题*普适性的*前提下，我们做出以下假设：
**两地之间有直达（不经过其他城市）的火车，当且仅当两地地缘上相邻。**

<img src="/Picture/figure1.png" width="600" height="450" />

其意义可以通过图1来直观的理解，即火车只能开在两地之间的边上。

在命令行版本中，考虑到是第一版本，我们保守地取城市的的个数为N=11。考虑到地缘因素，我们分散性的选取了北京市，沈阳市，呼和浩特市，乌鲁木齐市，西安市，郑州市，上海市，南京市，成都市，广州市和福州市作为我们的研究对象，并在*地缘上相近的地区连一条边*。


###数据的采集
1. 对于陆地交通网的时刻表与价格信息，我们通过使用 Python 在[铁友网](http://shikebiao.tieyou.com/)上面通过重复提交表单，利用正则表达式匹配出我们需要的时刻信息与价格（取二等座的价格）。同时为了使图不要过于冗余，城市对之间的重边不超过3个。	
2. 对于航班时刻表，我们不考虑中转航班（在实际中，国内航班里中转航班所占比例也不大），我们对于图中**任意城市对**都建立**一**条边，同样使用 Python，在[去哪儿网](http://www.qunar.com/)上面查找对应的时刻表和价格信息。
3. 

